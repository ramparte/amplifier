{
  "name": "code-review-flow",
  "description": "Automated code review workflow - linear execution",
  "nodes": [
    {
      "id": "analyze",
      "name": "Analyze Code",
      "prompt": "Analyze the code in {file_path} and identify:\n- Architecture concerns\n- Potential improvements\n- Design patterns used\n\nReturn your analysis as JSON with these fields:\n- concerns: list of architecture concerns\n- improvements: list of suggested improvements\n- patterns: list of design patterns identified\n",
      "agent": "zen-architect",
      "outputs": [
        "analysis_report"
      ],
      "next": null,
      "retry_on_failure": 1,
      "type": null
    },
    {
      "id": "find-bugs",
      "name": "Hunt for Bugs",
      "prompt": "Review the code and architecture analysis below.\nFind potential bugs, edge cases, and issues.\n\nCode: {file_path}\nAnalysis: {analysis_report}\n\nReturn your findings as JSON with:\n- bugs: list of potential bugs\n- severity: severity level for each bug\n- suggestions: how to fix each issue\n",
      "agent": "bug-hunter",
      "outputs": [
        "bug_report"
      ],
      "next": null,
      "retry_on_failure": 1,
      "type": null
    },
    {
      "id": "summarize",
      "name": "Create Summary",
      "prompt": "Create a comprehensive summary of the code review.\n\nArchitecture Analysis:\n{analysis_report}\n\nBug Report:\n{bug_report}\n\nProvide:\n1. Executive summary (2-3 sentences)\n2. Key findings\n3. Priority actions\n4. Overall assessment (Ready/Needs Work/Major Issues)\n",
      "agent": "auto",
      "outputs": [
        "final_summary"
      ],
      "next": null,
      "retry_on_failure": 1,
      "type": null
    }
  ],
  "context": {}
}